(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[4],{32:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(36),c=n.n(a);function i(t,e){var n=new URL(t,"https://api.themoviedb.org/3/");return n.searchParams.append("api_key","1bf71eaa77d060a8674d8281198a200f"),e.forEach((function(t){return n.searchParams.append(t[0],t[1])})),c()(n.href)}},67:function(t,e,n){t.exports={container:"review_container__1NwWr",title:"review_title__iXARB"}},68:function(t,e,n){t.exports={container:"cast_container__HuuJQ",title:"cast_title__eidIj",img:"cast_img__2PErw"}},69:function(t,e,n){t.exports={mainContent:"moviedetails_mainContent__2sOMY",imgContent:"moviedetails_imgContent__2jpJP",mainImg:"moviedetails_mainImg___4T2f",button:"moviedetails_button__25A_W",textCont:"moviedetails_textCont__xzVUd",addContent:"moviedetails_addContent__37xTq",addButton:"moviedetails_addButton__3PyLq",activeAddButton:"moviedetails_activeAddButton__1QYhQ"}},72:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var a=n(33),c=n(2),i=n(0),s=n(32),o=n(9),r=n(67),l=n.n(r),d=n(1);function u(t){var e=t.filmId,n=Object(i.useState)(),c=Object(a.a)(n,2),o=c[0],r=c[1];return Object(i.useEffect)((function(){Object(s.a)("/3/movie/".concat(e,"/reviews"),[]).then((function(t){r(t)})).catch((function(t){return console.log(t)}))}),[e]),o?o.data.results.length>0?Object(d.jsx)("ul",{className:l.a.container,children:o.data.results.map((function(t){return Object(d.jsxs)("li",{children:[Object(d.jsx)("h4",{children:t.author}),Object(d.jsx)("div",{className:l.a.container,children:t.content})]},t.id)}))}):Object(d.jsx)("h4",{className:l.a.title,children:"Sorry, we don't have any reviews for this movie"}):null}var j=n(68),m=n.n(j);function h(t){var e=t.filmId,n=Object(i.useState)(null),c=Object(a.a)(n,2),o=c[0],r=c[1];Object(i.useEffect)((function(){Object(s.a)("/3/movie/".concat(e,"/credits"),[]).then((function(t){return r(t)})).catch((function(t){return console.log(t)}))}),[e]);var l=function(t){return t.profile_path?"https://image.tmdb.org/t/p/w500".concat(t.profile_path):"http://placekitten.com/200/300"};return o?o.data.cast.map((function(t){return Object(d.jsxs)("div",{className:m.a.container,children:[Object(d.jsx)("p",{className:m.a.title,children:t.name}),Object(d.jsx)("img",{className:m.a.img,src:l(t),alt:t.name})]},t.id)})):null}var v=n(69),b=n.n(v);function O(){var t,e,n,r,l=Object(i.useState)(null),j=Object(a.a)(l,2),m=j[0],v=j[1],O=Object(c.i)(),f=Object(c.h)(),_=Object(c.g)(),p=Object(i.useRef)(null!==(t=null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/"),x=Object(i.useRef)(null!==(n=null===f||void 0===f||null===(r=f.state)||void 0===r?void 0:r.search)&&void 0!==n?n:"");Object(i.useEffect)((function(){Object(s.a)("movie/".concat(O.movieId),[]).then((function(t){v(t)})).catch((function(t){return console.log(t)}))}),[O]);var g=Object(i.useCallback)((function(){_.push({pathname:p.current,search:x.current})}),[_]);return m?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:b.a.mainContent,children:[Object(d.jsxs)("div",{className:b.a.imgContent,children:[Object(d.jsx)("button",{className:b.a.button,type:"button",onClick:g,children:"Go back"}),Object(d.jsx)("img",{className:b.a.mainImg,src:"https://image.tmdb.org/t/p/w500".concat(m.data.poster_path),alt:"film poster"})]}),Object(d.jsxs)("div",{className:b.a.textCont,children:[Object(d.jsx)("h3",{children:m.data.title}),Object(d.jsx)("p",{children:"User scores ".concat(10*m.data.vote_average,"%")}),Object(d.jsx)("h3",{children:"Overiew"}),Object(d.jsx)("p",{children:m.data.overview}),Object(d.jsx)("h3",{children:"Genres"}),Object(d.jsx)("p",{children:m.data.genres.map((function(t){return"".concat(t.name," ")}))})]})]}),Object(d.jsxs)("div",{className:b.a.addContent,children:[Object(d.jsx)("h3",{children:" Additional information"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{className:b.a.addButton,activeClassName:b.a.activeAddButton,to:{pathname:"/movies/".concat(O.movieId,"/cast")},children:"Cast"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{className:b.a.addButton,activeClassName:b.a.activeAddButton,to:{pathname:"/movies/".concat(O.movieId,"/reviews")},children:"Reviews"})})]})]}),Object(d.jsx)(c.b,{path:"/movies/:movieId/cast",children:Object(d.jsx)(h,{filmId:O.movieId})}),Object(d.jsx)(c.b,{path:"/movies/:movieId/reviews",children:Object(d.jsx)(u,{filmId:O.movieId})})]}):null}}}]);
//# sourceMappingURL=4.b259d3c6.chunk.js.map